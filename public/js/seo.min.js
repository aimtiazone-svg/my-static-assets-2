(function(){
        try{
          var dataScript=document.getElementById(&#39;post-seo&#39;);
          if(!dataScript) return;
          var meta=JSON.parse(dataScript.textContent||&#39;{}&#39;);
          var price=null, rating=null, availability=&quot;https://schema.org/InStock&quot;, currency=meta.currency||&quot;SAR&quot;;
          (meta.labels||[]).forEach(function(raw){
            var s=(raw||&quot;&quot;).trim();
            var val = s.split(&quot;:&quot;).slice(1).join(&quot;:&quot;).trim();
            if(/^سعر/i.test(s) || /^price/i.test(s)){
              price = (val||&quot;&quot;).replace(/[^\d.,٠-٩\u066B\u060C]/g,&#39;&#39;).replace(/[\u060C\u066B]/g,&#39;.&#39;);
            }
            if(/^تقييم/i.test(s) || /^rating/i.test(s)){
              rating = (val||&quot;&quot;).replace(/[^\d.,]/g,&#39;&#39;);
            }
            if(/^توفر|availability/i.test(s)){
              if(/out|غير متوفر/i.test(val)) availability=&quot;https://schema.org/OutOfStock&quot;;
            }
          });
          var prod=document.querySelector(&#39;script[type=&quot;application/ld+json&quot;][data-ld=&quot;product&quot;]&#39;);
          if(!prod) return;
          var json=JSON.parse(prod.textContent||&#39;{}&#39;);
          if(price){
            json.offers={
              &quot;@type&quot;:&quot;Offer&quot;,
              &quot;priceCurrency&quot;: currency,
              &quot;price&quot;: String(parseFloat(price)).replace(&#39;,&#39;, &#39;.&#39;),
              &quot;availability&quot;: availability,
              &quot;url&quot;: json.url
            };
          }
          if(rating){
            json.aggregateRating={
              &quot;@type&quot;:&quot;AggregateRating&quot;,
              &quot;ratingValue&quot;: String(rating),
              &quot;reviewCount&quot;: &quot;1&quot;
            };
          }
          var s=document.createElement(&#39;script&#39;);
          s.type=&#39;application/ld+json&#39;;
          s.setAttribute(&#39;data-ld&#39;,&#39;product&#39;);
          s.textContent=JSON.stringify(json);
          prod.parentNode.insertBefore(s, prod.nextSibling);
          prod.remove();
        }catch(e){}
      })();